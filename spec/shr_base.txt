DataDefinitions:	shr.base
Uses:				shr.core, shr.demographics, shr.actor
Description:		"The SHR Base domain contains definitions for elements that are widely shared in SHR, including the base Entry and associated metadata."


//---------------  Missing Information -----------------------
// By convention, any require elements or value can be substituted for with a missing value reason

Element:		MissingValueReason
Concept:		TBD
Description:	"The reason a required element, complex type, or primitive value is missing. Missing value reason can be substituted for any value."
Value: 			Coding from MissingValueReasonVS


//----------------  Entry -------------------

Element:		Entry
Concept:		MTH#C1705654
Description:	"An item inserted in an electronic record"
1..1			Meta
1..1			ShrID
1..1			FocalSubject
1..1			SubjectIsThirdParty
0..1			Summary
// exactly one EntryElement (not any old element, just entry elements)

	Element:		ShrID
	Concept:		MTH#C0600091
	Description:	"A unique, persistent identifier for the Standard Health Record to which this entry belongs."
	Value:			Identifier
	
	Element:		FocalSubject
	Concept:		TBD
	Description:	"The person or thing that this entry refers to, usually the Person of Record. However, not all entries refer to the Person of Record. The entry could refer to a fetus, care giver, or relative (living or dead)"
	Value:			Person

	Element:		SubjectIsThirdParty
	Concept:		TBD
	Description:	"A flag indicating this entry concerns someone other than the Person of Record"
	Value:			boolean


//----------------  Metadata  -----------------------
// Elements for all entries in the SHR

Element:		Meta
Concept:		MTH#C1708992
Description:	"Contains elements common to all entries, describing the identification, timing, attribution, and other properties of the entry."
1..1			EntryID
1..*			EntryType
0..1			Version
0..*    		Informant
0..*			Author
0..*			AssociatedEncounter 
1..1    		DateEntered
0..*			DateUpdated  // Assumes Entries can be altered, as opposed to versioned
0..1			Language
0..*			TBD "SecurityLabel"
0..*			TBD "Tags"


	Element:    	EntryID
	Concept:        MTH#C0600091
	Description:    "A unique, persistent, permanent identifier for an entry in a health record"
	Value:          id

	Element:		EntryType
	Concept:		TBD
	Description:	"The SHR data element identifier, for example, http://standardhealthrecord.org/allergy/SubstanceRisk. The EntryType array includes the entire 'based on' hierarchy to enable searching for classes of things, for example, searching for all vital signs, or all types of behavioral observations."
	Value:			uri

	Element:		AssociatedEncounter
	Concept:		TBD
	Description:	"The encounter or episode of care that led to creation of this entry"
	Value:			TBD "Encounter"

	Element:   	 	DateEntered
	Concept:        MTH#C3669169
	Description:    "The point in time when the information was recorded in the system of record."
	Value:          dateTime

	Element: 		DateUpdated
	Concept:		TBD
	Description:	"A date that the entry was changed"
	Value:			dateTime

	Element:    	Informant
	Concept:        MTH#C0449416
	Description:    "The person or entity that provided the information in the entry, as distinct from the actor creating the entry, e.g. the subject (patient), medical professional, family member, device or software program."
	1..1	        Person // TODO: ComputerProgram or Device or Organization or ContributingRecord

	Element:		Author
	Concept:		TBD
	Description:	"The person or organization who created the entry and is responsible for (and may certify) its content."
	Value:			Person or Organization  // TODO: Does Person imply references to Practitioner are allowed, or does it need to be explicit? (that IS what is intended)

	Element:		Language
	Concept:		MTH#C0023008
	Description: 	"A human language, spoken or written"
	Value:			Coding from http://hl7.org/fhir/ValueSet/languages


Element:		ExternalHealthRecord
Concept: 		TBD
Description:	"A health record used to help populate the current health record"
1..1			HealthRecordID
1..1			Organization
1..1			AccessTime

	Element:		HealthRecordID
	Concept:		MTH#C0600091
	Description:	"Identifier for a health record. Interpreted in the context of the providing organization."
	Value:			id

	Element:		AccessTime
	Concept:		TBD
	Description:	"Point in time when data was accessed"
	Value:			dateTime
