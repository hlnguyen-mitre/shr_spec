Grammar:	DataElement 4.0
Namespace:	shr.medication
Description:		"The SHR Medication domain contains definitions related to medications taken, or not taken, by the person of record, both currently and in the past."
Uses:				shr.core, shr.base

Path: 			http://standardhealthrecord.org/medication/vs       // base URL - needed or not?
Path:			FHIR = http://hl7.org/fhir/ValueSet
Path:			CORE = http://standardhealthrecord.org/core/vs
CodeSystem:  	RXN = http://www.nlm.nih.gov/research/umls/rxnorm

Element:		Medication
Concept:		MTH#C0013227
Description:	"A type of prescription drug or over-the-counter drug that is used to prevent, treat, or relieve symptoms of a disease or abnormal condition, but excluding vaccines."
Value: 			Coding from RXN
0..1			DoseForm
0..1			MedicationStrength
0..1			BrandName

		Element:		DoseForm
		Concept:		MTH#C0013058
		Description:	"The form in which active and/or inert ingredient(s) are physically presented"
		Value:			Coding from FHIR/medication-form-codes

		Element:		MedicationStrength
		Concept:		MTH#C3176062
		Description:	"Specifies how many (or how much) of the active ingredient there is in this Medication, to be interpreted as a ratio. For example, 250 mg per tablet. This is expressed as a ratio where the numerator is 250mg and the denominator is 1 tablet."
		1..1			ActiveIngredientAmount
		1..1			AmountOfMedication

			Element:		ActiveIngredientAmount
			Concept:		TBD
			Description:	"The amount of an active ingredient in a medication"
			Value:			Quantity

			Element:		AmountOfMedication
			Concept:		TBD
			Description:	"A standardized measure or discrete amount of medication serving as a reference for dosing or strength, for example, 1 tablet."
			Value:			Quantity

		Element:		BrandName
		Concept:		TBD
		Description:	"The brand name of a product"
		Value: 			string


EntryElement:	MedicationStatement
Concept:		TBD
Description:	"Report of a medication used or not used. Medication use is either reported, directly observed, or inferred from clinical events associated with orders, prescriptions written, pharmacy dispensings, procedural administrations, and other patient-reported information."
1..1			Medication
1..1			UsedOrNotUsed
1..1 			ReasonForUse   // the reason that the medication is expected to be prescribed or given, e.g., standard of care
1..1			ReasonMedicationNotGiven  //  The reason it was not used, prescribed, or administered, e.g., allergy
0..1			Dosage		// do not include if dosage was not known
0..1			Adherence
1..1			OccurrenceTime

	Element:		UsedOrNotUsed
	Concept:		TBD
	Description:	"Whether the medication stated was used or not used"
	Value:			Coding from UsedOrNotUsedVS

	Element:		ReasonMedicationNotGiven
	Concept:		TBD
	Description:	"The rationale for NOT using particular medication treatment"
	Value:			Coding from ReasonNotGivenVS


	Element:		Dosage
	Concept:		MTH#C0178602
	Description:	"The dosage of the medication as prescribed"
	1..1			AmountPerDose 
	1..1			TimingOfDoses
	1..1			DoseAsNeededIndicator
	0..1			DoseInstructionsText
	0..*			AdditionalDoseInstruction
	0..1			RouteIntoBody
	0..1			AdministrationMethod
	0..1			AdministrationBodySite
	0..*			MaximumDosePerTimePeriod // no more than x in any 24-hour period

		Element:		AmountPerDose
		Concept:		TBD
		Description:	"The amount of medication taken at each dose, as a quantity or range"
		Value:			Quantity or TBD "Range"

		Element:		TimingOfDoses
		Concept:		TBD
		Description:	"When doses of medication should be administered"
		Value:			TBD "Timing"

		Element:		DoseAsNeededIndicator
		Concept:		MTH#C1883728
		Description:	"Indicates that a drug or therapy should be used as often as the patient decides it is necessary."
		Value:			boolean

		Element:		DoseInstructionsText
		Concept:		TBD
		Description:	"The directions (signetur) on the drug prescription or dispensing record."
		Value:			string

		Element:		AdditionalDoseInstruction
		Concept:		MTH#C1644714
		Description:	"Supplemental instructions - e.g. 'with meals'"
		Value:			Coding from FHIR/additional-instructions-codes

		Element:		RouteIntoBody
		Concept:		MTH#C0013153
		Description:	"The way a substance enters an organism after contact, particularly, the route of drug administration."
		Value:			Coding from FHIR/route-codes

		Element:		AdministrationMethod
		Concept:		MTH#C1547585
		Description:	"Technique for administering medication"
		Value:			Coding from FHIR/administration-method-codes

		Element:		AdministrationBodySite
		Concept:		MTH#C0229986
		Description:	"The anatomic site at which medical intervention is applied."
		Value:			BodySite

		Element:		MaximumDosePerTimePeriod
		Concept:		TBD
		Description:	"The maximum amount of a medication to be taken in a given period of time."
		1..1			AmountOfMedication
		1..1			Duration

	Element:		Adherence
	Concept:		MTH#C2364172
	Description:	"A statement of the ability and cooperation of the patient in taking medicine or supplement as recommended or prescribed. This includes correct timing, dosage, and frequency."
	0..*			(TBD "MedicationTreatment" or TBD "SupplementTreatment") // If no medication is given, then the adherence statement is general; it refers to no particular medication(s)
	1..1			AdherenceLevel
	0..*			NonAdherenceReason
	1..1			Details   // from core

		Element:		AdherenceLevel
		Concept:		MTH#C1510802
		Description:	"The frequency that the stated treatment plan, prescription, or protocol is followed."
		Value:			Coding from QualitativeFrequencyVS

		Element:		NonAdherenceReason
		Concept:		TBD
		Description:	"Reason for not following the stated treatment plan, prescription, or protocol."
		Value:			Coding from MedicationNonAdherenceReasonVS

	Element:		ReasonForUse
	Concept:		TBD
	Description:	"The rationale for why the patient receives a medication or prescription"
	Value:			Explanation   // TODO: create VS and add a reference to problem or condition

	
EntryElement:	MedicationPrescribed
Concept:		TBD
Description:	"Report of a medication prescription."
1..1			Medication
1..1			UsedOrNotUsed is #prescribed
1..1 			ReasonForUse   // the reason that the medication is expected to be prescribed or given, e.g., standard of care
1..0			ReasonMedicationNotGiven  //  The reason it was not used, prescribed, or administered, e.g., allergy
0..1			Dosage		// do not include if dosage was not known
0..0			Adherence
1..1			OccurrenceTime
	
	
EntryElement:	MedicationNotPrescribed
Concept:		TBD
Based on:		MedicationStatement
Description:	"A record of a medication NOT prescribed. Recorded only when deviating from the normal expectation, care plan, or standard of care."
1..1			Medication
1..1			UsedOrNotUsed is #not_prescribed
1..1 			ReasonForUse   // the reason that the medication is expected to be prescribed or given, e.g., standard of care
1..1			ReasonMedicationNotGiven  //  The reason it was not used, prescribed, or administered, e.g., allergy
0..0			Dosage		// do not include if dosage was not known
0..0			Adherence


EntryElement:	MedicationNotAdministered
Concept:		TBD
Based on:		MedicationStatement
Description:	"A record of a medication NOT administered. Recorded when deviating from the care plan."
1..1			Medication
1..1			UsedOrNotUsed is #not_administered
1..1			ReasonMedicationNotGiven
0..0			Dosage
0..0			Adherence


// TODO: Not yet mapped to FHIR
EntryElement:	MedicationChange
Concept:		MTH#C0554834
Description:	"Description of a modification or change of a medication or dosage."
1..1			EffectiveDate
1..1			TypeOfChange
0..*			MedicationBeforeChange   //might be more than one
0..*			MedicationAfterChange   // null if medication was discontinued
1..1			TBD "ReasonForMedicationChange"

		Element:		TypeOfChange
		Concept:		TBD
		Description:	"Whether the change is a dose change, switch to a new medication, or discontinuation"
		Value:			Coding from MedicationChangeTypeVS

		Element:		MedicationBeforeChange
		Concept:		TBD
		Description:	"The medication taken, prior to the change"
		Value:			MedicationStatement

		Element:		MedicationAfterChange
		Concept:		TBD
		Description:	"A medication taken, after the change"
		Value:			MedicationStatement

		
