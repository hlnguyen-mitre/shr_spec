Grammar:	DataElement 4.0
Namespace:			shr.immunization
Description:		"The SHR Immunization domain contains definitions related to vaccinations, whether they are received, recommended, missing, or refused."
Uses:				shr.core, shr.medication

CodeSystem:    		MVX = urn:oid:2.16.840.1.114222.4.11.826  // oid-based identifier for vaccine manufacturer in phin-vads
CodeSystem:    		CVX = http://hl7.org/fhir/ValueSet/vaccine-code

Element:		Vaccine
Concept:		MTH#C1543322
Description:	"A specific type or manufactured instance of a vaccine, a prophylactic or therapeutic preparation given to produce immune response to pathogenic organisms or substances."
Value:			Coding from CVX
0..1			VaccineManufacturer
0..1			LotNumber

	Element:		VaccineManufacturer
	Concept:		MTH#C1114744
	Description:	"The organization that produces the vaccine"
	Value:			Coding from MVX

	Element:		LotNumber
	Concept:		MTH#C1115660
	Description:	"A distinctive alpha-numeric identification code assigned by the manufacturer or distributor to a specific quantity of manufactured material or product within a batch."
	Value:			string

	
EntryElement:	ImmunizationStatement
Concept:		MTH#C0020971
Description:	"A statement relating to a vaccination that was or was not administered to the subject."
1..1 			Vaccine
1..1			WasNotGiven
1..1			ImmunizationNotAdministeredReason 
0..1			BodySite   // from core
0..1			RouteIntoBody  // from medication
0..1			AmountOfMedication  // from medication
0..1			TBD "DoseSequenceNumber"

	Element:		WasNotGiven
	Concept:		MTH#C1548562
	Description:	"Indicates a medication or substance was not given or administered."
	Value:			boolean

	Element:		ImmunizationNotAdministeredReason
	Concept:		TBD
	Description:	"Reason the scheduled or intended immunization was not given, e.g., refused, no supply, patient didn't show up."
	Value:			Coding from http://hl7.org/fhir/ValueSet/no-immunization-reason

	
EntryElement:	ImmunizationAdministered
Concept:		MTH#C0580520
Based on:		ImmunizationStatement
Description:	"Represents an immunization that was administered to the subject"
1..1			Vaccine.VaccineManufacturer  // required
1..1			Vaccine.LotNumber   // required
				WasNotGiven is false
0..0			ImmunizationNotAdministeredReason 
0..1			BodySite   // from core
0..1			RouteIntoBody  // from medication
0..1			AmountOfMedication  // from medication
0..1			TBD "DoseSequenceNumber"


	
EntryElement:	ImmunizationRefused
Concept:		MTH#C0580520
Based on:		ImmunizationStatement
Description:	"Represents an immunization that was offered but declined by the subject or the subject's guardian"
				WasNotGiven is true
1..1			ImmunizationNotAdministeredReason 
0..0			BodySite  
0..0			RouteIntoBody  
0..0			AmountOfMedication  
0..1			TBD "DoseSequenceNumber"


// Example of detailed profile

EntryElement:	ZostavaxImmunizationAdministered
Concept:		TBD
Based on:		ImmunizationAdministered
				Vaccine is CVX#36 "VZIG"
1..1			AgeOfSubjectAtTimeOfEvent // extension particular to this vaccination - should be >60 to qualify for reimbursement

	Element:		AgeOfSubjectAtTimeOfEvent
	Concept:		MTH#C2348575
	Description:	"The age of the subject at a specific time when an event happened"
	Value:			Age
	
	



TO DO: Not mapped, not complete
EntryElement:	ImmunizationRecommended
1..1			Vaccine
0..1			TBD "DoseNumber"
1..1			TargetDateRange

	Element:		TargetDateRange
	Concept:		TBD
	Description:	"Dates between which when a future event should occur"
	Value:			TimePeriod

EntryElement:	ImmunizationRecommendedAgainst
1..1			Vaccine
0..1			(RouteIntoBody or TBD "Protocol")
1..1			ReasonMedicationNotGiven  // From shr_medication_vs

